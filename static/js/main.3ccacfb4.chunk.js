(this.webpackJsonpmask=this.webpackJsonpmask||[]).push([[0],{40:function(t,e,a){t.exports=a(85)},45:function(t,e,a){},46:function(t,e,a){},85:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),l=a(31),c=a.n(l),r=(a(45),a(32)),o=a(33),m=a(38),i=a(34),u=a(12),d=a(39),k=(a(46),a(35)),A=a.n(k),E=a(36),g=37.5139004,h=127.0299684,p=2e3,b=a(37),f=a.n(b),T=function(t){function e(t){var a;Object(r.a)(this,e),(a=Object(m.a)(this,Object(i.a)(e).call(this,t))).STATUS_LOADING=0,a.STATUS_UNAVAILABLE=1,a.STATUS_AVAILABLE=2;var n=a.STATUS_LOADING;return a.locationCallback=a.locationCallback.bind(Object(u.a)(a)),navigator.geolocation?navigator.geolocation.getCurrentPosition(a.locationCallback):n=a.STATUS_UNAVAILABLE,a.state={stores:[],status:n,message:"\uc704\uce58 \uc815\ubcf4\ub97c \uc54c \uc218 \uc5c6\ub294 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4."},a}return Object(d.a)(e,t),Object(o.a)(e,[{key:"locationCallback",value:function(t){var e=this,a={latitude:g,longitude:h};A.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json",{params:{lat:t.coords.latitude,lng:t.coords.longitude,m:p}}).then((function(t){var n=[];t.data.stores.forEach((function(t){var e,s;switch(t.remain_stat){case"plenty":e=3,s="100+";break;case"some":e=2,s="30+";break;case"few":e=1,s="<30";break;default:e=0,s="\uc5c6\uc74c"}var l=Object(E.getDistance)(a,{latitude:t.lat,longitude:t.lng}),c={lat:t.lat,lng:t.lng,name:t.name,stock:e,stockText:s,createAt:t.created_at,stockAt:t.stock_at,addr:t.addr,distance:l};n.push(c)})),n.length>0&&(n.sort((function(t,e){return t.stock!==e.stock?e.stock-t.stock:t.distance-e.distance})),e.setState({stores:n,status:e.STATUS_AVAILABLE}))}))}},{key:"render",value:function(){return this.state.status===this.STATUS_LOADING?s.a.createElement("p",{className:"tCenter"},"\ub85c\ub529\uc911\uc785\ub2c8\ub2e4."):this.state.status===this.STATUS_UNAVAILABLE?s.a.createElement("p",{className:"tCenter"},this.state.message):s.a.createElement("div",{className:"App"},s.a.createElement("p",{className:"small"},"\ud604\uc7ac \uc704\uce58\uc815\ubcf4\ub97c \uc774\uc6a9\ud558\uc5ec \ubc18\uacbd 2km \uc774\ub0b4 \uc57d\uad6d\uc744 \uac80\uc0c9\ud569\ub2c8\ub2e4."),s.a.createElement("div",{className:"tableWrapper"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",null,"\uc774\ub984"),s.a.createElement("td",null,"\uc8fc\uc18c"),s.a.createElement("td",null,"\uc218\ub7c9"),s.a.createElement("td",null,"\uac70\ub9ac"))),s.a.createElement("tbody",null,this.state.stores.map((function(t,e){var a="https://map.google.com/?q=".concat(t.lat,",").concat(t.lng),n=t.stockAt?" - "+f()(t.stockAt,"YYYY/MM/DD HH:mm:ss","ko").fromNow():"";return s.a.createElement("tr",{key:e,className:"stock_"+t.stock},s.a.createElement("td",null,t.name),s.a.createElement("td",{className:"small"},s.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},t.addr),n),s.a.createElement("td",{className:"tCenter small"},t.stockText),s.a.createElement("td",{className:"tCenter small"},t.distance,"m"))}))))))}}]),e}(n.Component);c.a.render(s.a.createElement(T,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.3ccacfb4.chunk.js.map